<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Gestionar Labs | Gest Farma</title>
    <meta content='width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no' name='viewport'>
    <!-- Bootstrap 3.3.2 -->
    <link href="../../bootstrap/css/bootstrap.min.css" rel="stylesheet" type="text/css" />    
    <!-- FontAwesome 4.3.0 -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons 2.0.0 -->
    <link href="http://code.ionicframework.com/ionicons/2.0.0/css/ionicons.min.css" rel="stylesheet" type="text/css" />    
    <!-- Theme style -->
    <link href="../../dist/css/AdminLTE.min.css" rel="stylesheet" type="text/css" />
    <!-- AdminLTE Skins -->
    <link href="../../dist/css/skins/_all-skins.min.css" rel="stylesheet" type="text/css" />
    <!-- DataTables -->
    <link href="../../plugins/datatables/dataTables.bootstrap.css" rel="stylesheet" type="text/css" />

    <!-- Colores personalizados -->
    <style>
      /* Colores personalizados */
      .bg-aqua, .bg-light-blue { background-color: #183657 !important; }
      .bg-green { background-color: #14D5AA !important; }
      .bg-red { background-color: #FF1E70 !important; }
      .bg-yellow { background-color: #FF1E70 !important; }
      .bg-teal { background-color: #14D5AA !important; }
      
      .label-success { background-color: #14D5AA !important; }
      .label-warning { background-color: #FF1E70 !important; }
      .label-primary { background-color: #183657 !important; }
      .label-danger { background-color: #dc3545 !important; }
      
      .btn-success { background-color: #14D5AA !important; border-color: #14D5AA !important; }
      .btn-primary { background-color: #183657 !important; border-color: #183657 !important; }
      .btn-info { background-color: #183657 !important; border-color: #183657 !important; }
      
      .box.box-success .box-header { background-color: #14D5AA !important; }
      .box.box-primary .box-header { background-color: #183657 !important; }
      .box.box-info .box-header { background-color: #183657 !important; }
      
      .box.box-primary .box-header .box-title,
      .box.box-info .box-header .box-title {
        color: white !important;
      }
      
      .main-footer { background-color: #183657 !important; color: white !important; }
      .main-footer a { color: #14D5AA !important; }

      .lab-card {
        background: white;
        border-radius: 12px;
        padding: 25px;
        margin-bottom: 20px;
        box-shadow: 0 4px 20px rgba(0,0,0,0.1);
        border-top: 4px solid #14D5AA;
        transition: all 0.3s ease;
        position: relative;
      }
      .lab-card:hover {
        transform: translateY(-5px);
        box-shadow: 0 8px 30px rgba(0,0,0,0.15);
      }
      .lab-premium {
        border-top-color: #ffc107;
        background: linear-gradient(45deg, #fffbf0, #ffffff);
      }
      .lab-vip {
        border-top-color: #6f42c1;
        background: linear-gradient(45deg, #f8f4ff, #ffffff);
      }
      .lab-inactive {
        border-top-color: #dc3545;
        background: linear-gradient(45deg, #fff5f5, #ffffff);
        opacity: 0.7;
      }
      
      .lab-header {
        display: flex;
        justify-content: space-between;
        align-items: flex-start;
        margin-bottom: 20px;
      }
      .lab-logo {
        width: 60px;
        height: 60px;
        background: linear-gradient(135deg, #183657, #2a4d73);
        color: white;
        border-radius: 50%;
        display: flex;
        align-items: center;
        justify-content: center;
        font-weight: bold;
        font-size: 18px;
        margin-right: 20px;
      }
      .lab-info h3 {
        color: #183657;
        margin-bottom: 5px;
      }
      .lab-category {
        color: #666;
        font-size: 13px;
        margin-bottom: 10px;
      }
      .lab-status {
        padding: 6px 12px;
        border-radius: 15px;
        font-size: 11px;
        font-weight: bold;
        text-transform: uppercase;
      }
      .status-active {
        background: rgba(20, 213, 170, 0.1);
        color: #14D5AA;
        border: 1px solid #14D5AA;
      }
      .status-premium {
        background: rgba(255, 193, 7, 0.1);
        color: #ffc107;
        border: 1px solid #ffc107;
      }
      .status-vip {
        background: rgba(111, 66, 193, 0.1);
        color: #6f42c1;
        border: 1px solid #6f42c1;
      }
      .status-inactive {
        background: rgba(220, 53, 69, 0.1);
        color: #dc3545;
        border: 1px solid #dc3545;
      }
      
      .lab-metrics {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(100px, 1fr));
        gap: 15px;
        margin-bottom: 20px;
      }
      .metric-item {
        text-align: center;
        padding: 15px;
        background: #f8f9fa;
        border-radius: 8px;
      }
      .metric-value {
        font-size: 20px;
        font-weight: bold;
        color: #183657;
        margin-bottom: 5px;
      }
      .metric-label {
        font-size: 11px;
        color: #666;
        text-transform: uppercase;
      }
      
      .lab-contact {
        background: #f8f9fa;
        border-radius: 8px;
        padding: 15px;
        margin-bottom: 15px;
      }
      .contact-item {
        display: flex;
        align-items: center;
        margin-bottom: 8px;
      }
      .contact-item:last-child {
        margin-bottom: 0;
      }
      .contact-icon {
        width: 20px;
        margin-right: 10px;
        color: #666;
      }
      
      .lab-actions {
        display: flex;
        gap: 10px;
        flex-wrap: wrap;
      }
      .action-btn {
        padding: 8px 15px;
        border-radius: 6px;
        border: none;
        font-size: 12px;
        font-weight: bold;
        cursor: pointer;
        transition: all 0.3s ease;
      }
      .btn-edit {
        background: #17a2b8;
        color: white;
      }
      .btn-contact {
        background: #28a745;
        color: white;
      }
      .btn-history {
        background: #6c757d;
        color: white;
      }
      .btn-negotiate {
        background: #ffc107;
        color: #212529;
      }
      
      .quick-actions {
        background: white;
        border-radius: 8px;
        padding: 20px;
        margin-bottom: 25px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
      }
      
      .add-lab-form {
        background: white;
        border-radius: 8px;
        padding: 25px;
        margin-bottom: 25px;
        box-shadow: 0 2px 10px rgba(0,0,0,0.08);
        border-left: 4px solid #14D5AA;
      }
      
      .form-grid {
        display: grid;
        grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
        gap: 20px;
        margin-bottom: 20px;
      }
      
      .rating-stars {
        color: #ffc107;
        margin-left: 10px;
      }
      
      .performance-indicator {
        display: inline-block;
        width: 12px;
        height: 12px;
        border-radius: 50%;
        margin-right: 8px;
      }
      .perf-excellent { background: #14D5AA; }
      .perf-good { background: #28a745; }
      .perf-average { background: #ffc107; }
      .perf-poor { background: #dc3545; }
      
      .relationship-level {
        display: inline-block;
        padding: 3px 8px;
        border-radius: 10px;
        font-size: 10px;
        font-weight: bold;
        text-transform: uppercase;
        margin-left: 10px;
      }
      .level-strategic { background: rgba(111, 66, 193, 0.1); color: #6f42c1; }
      .level-preferred { background: rgba(255, 193, 7, 0.1); color: #ffc107; }
      .level-standard { background: rgba(20, 213, 170, 0.1); color: #14D5AA; }
      .level-trial { background: rgba(108, 117, 125, 0.1); color: #6c757d; }
      
      .contract-status {
        display: flex;
        align-items: center;
        margin-top: 10px;
      }
      .contract-indicator {
        width: 8px;
        height: 8px;
        border-radius: 50%;
        margin-right: 8px;
      }
      .contract-active { background: #14D5AA; }
      .contract-expiring { background: #ffc107; }
      .contract-expired { background: #dc3545; }
      
      .bulk-actions {
        background: #e9ecef;
        border-radius: 6px;
        padding: 15px;
        margin-bottom: 20px;
        display: none;
      }
      .bulk-actions.show {
        display: block;
      }
    </style>
  </head>
  <body class="skin-blue">
    <div class="wrapper">
      
      <header class="main-header">
        <a href="../../index.html" class="logo">
          <img src="../../logo-proyectoPNG.png" alt="Gest Farma" style="height: 50px; max-width: 100%;">
        </a>
        <nav class="navbar navbar-static-top" role="navigation">
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Alternar navegaci√≥n</span>
          </a>
        </nav>
      </header>

      <aside class="main-sidebar">
        <section class="sidebar">
          <div class="user-panel">
            <div class="pull-left image">
              <img src="../../dist/img/user2-160x160.jpg" class="img-circle" alt="User Image" />
            </div>
            <div class="pull-left info">
              <p>Sistema Farmac√©utico</p>
              <a href="#"><i class="fa fa-circle text-success"></i> En l√≠nea</a>
            </div>
          </div>
          
          <ul class="sidebar-menu">
            <li class="header">SISTEMA FARMAC√âUTICO</li>
            <li><a href="../../index.html"><i class="fa fa-dashboard"></i> <span>üìä Dashboard Principal</span></a></li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-file-text"></i>
                <span>üìÑ Informes Autom√°ticos</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="../informes/crear-informe.html"><i class="fa fa-plus"></i> Crear Informe</a></li>
                <li><a href="../informes/ver-informes.html"><i class="fa fa-eye"></i> Ver Informes</a></li>
                <li><a href="../informes/programar-envios.html"><i class="fa fa-clock-o"></i> Programar Env√≠os</a></li>
              </ul>
            </li>
            <li class="treeview">
              <a href="#">
                <i class="fa fa-bar-chart"></i>
                <span>üìà Ventas e Inventario</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="../ventas/dashboard-general.html"><i class="fa fa-dashboard"></i> Dashboard General</a></li>
                <li><a href="../ventas/analisis-ventas.html"><i class="fa fa-line-chart"></i> An√°lisis de Ventas</a></li>
                <li><a href="../ventas/control-stock.html"><i class="fa fa-cubes"></i> Control de Stock</a></li>
              </ul>
            </li>
            <li class="active treeview">
              <a href="#">
                <i class="fa fa-flask"></i>
                <span>üß™ Pujas (Labs)</span>
                <i class="fa fa-angle-left pull-right"></i>
              </a>
              <ul class="treeview-menu">
                <li><a href="pujas-activas.html"><i class="fa fa-gavel"></i> Pujas Activas</a></li>
                <li><a href="historial-pujas.html"><i class="fa fa-history"></i> Historial de Pujas</a></li>
                <li class="active"><a href="gestionar-labs.html"><i class="fa fa-cogs"></i> Gestionar Labs</a></li>
              </ul>
            </li>
          </ul>
        </section>
      </aside>

      <div class="content-wrapper">
        <section class="content-header">
          <h1>
            Gestionar Laboratorios
            <small>Administraci√≥n completa de relaciones con labs</small>
          </h1>
          <ol class="breadcrumb">
            <li><a href="../../index.html"><i class="fa fa-dashboard"></i> Dashboard</a></li>
            <li><a href="#">Pujas (Labs)</a></li>
            <li class="active">Gestionar Labs</li>
          </ol>
        </section>

        <section class="content">
          <!-- Estad√≠sticas generales -->
          <div class="row">
            <div class="col-md-3">
              <div class="small-box bg-green">
                <div class="inner">
                  <h3>24</h3>
                  <p>Labs Activos</p>
                </div>
                <div class="icon">
                  <i class="fa fa-flask"></i>
                </div>
                <a href="#" class="small-box-footer">
                  3 VIP ‚Ä¢ 8 Premium <i class="fa fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
            <div class="col-md-3">
              <div class="small-box bg-yellow">
                <div class="inner">
                  <h3>‚Ç¨2.1M</h3>
                  <p>Volumen Anual</p>
                </div>
                <div class="icon">
                  <i class="fa fa-euro"></i>
                </div>
                <a href="#" class="small-box-footer">
                  +18% vs a√±o anterior <i class="fa fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
            <div class="col-md-3">
              <div class="small-box bg-red">
                <div class="inner">
                  <h3>5</h3>
                  <p>Contratos Expiran</p>
                </div>
                <div class="icon">
                  <i class="fa fa-warning"></i>
                </div>
                <a href="#" class="small-box-footer">
                  Pr√≥ximos 30 d√≠as <i class="fa fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
            <div class="col-md-3">
              <div class="small-box bg-aqua">
                <div class="inner">
                  <h3>92.3%</h3>
                  <p>Satisfacci√≥n Media</p>
                </div>
                <div class="icon">
                  <i class="fa fa-star"></i>
                </div>
                <a href="#" class="small-box-footer">
                  Basado en 156 evaluaciones <i class="fa fa-arrow-circle-right"></i>
                </a>
              </div>
            </div>
          </div>

          <!-- Acciones r√°pidas -->
          <div class="quick-actions">
            <div class="row">
              <div class="col-md-2">
                <button class="btn btn-success btn-block" onclick="showAddLabForm()">
                  <i class="fa fa-plus"></i><br>Nuevo Laboratorio
                </button>
              </div>
              <div class="col-md-2">
                <button class="btn btn-info btn-block" onclick="importLabs()">
                  <i class="fa fa-upload"></i><br>Importar Labs
                </button>
              </div>
              <div class="col-md-2">
                <button class="btn btn-warning btn-block" onclick="reviewContracts()">
                  <i class="fa fa-file-text"></i><br>Revisar Contratos
                </button>
              </div>
              <div class="col-md-2">
                <button class="btn btn-primary btn-block" onclick="generateReport()">
                  <i class="fa fa-bar-chart"></i><br>Informe Relaciones
                </button>
              </div>
              <div class="col-md-2">
                <button class="btn btn-default btn-block" onclick="exportData()">
                  <i class="fa fa-download"></i><br>Exportar Datos
                </button>
              </div>
              <div class="col-md-2">
                <button class="btn btn-success btn-block" onclick="location.href='pujas-activas.html'">
                  <i class="fa fa-gavel"></i><br>Ver Pujas
                </button>
              </div>
            </div>
          </div>

          <!-- Formulario agregar laboratorio (oculto inicialmente) -->
          <div class="add-lab-form" id="addLabForm" style="display: none;">
            <h4><i class="fa fa-plus"></i> Agregar Nuevo Laboratorio</h4>
            <div class="form-grid">
              <div class="form-group">
                <label>Nombre del Laboratorio *</label>
                <input type="text" class="form-control" placeholder="Ej: Pfizer Espa√±a">
              </div>
              <div class="form-group">
                <label>C√≥digo/Siglas</label>
                <input type="text" class="form-control" placeholder="Ej: PF">
              </div>
              <div class="form-group">
                <label>Categor√≠a</label>
                <select class="form-control">
                  <option>Multinacional</option>
                  <option>Nacional</option>
                  <option>Regional</option>
                  <option>Gen√©ricos</option>
                  <option>Especializado</option>
                </select>
              </div>
              <div class="form-group">
                <label>Nivel de Relaci√≥n</label>
                <select class="form-control">
                  <option>Estrat√©gico</option>
                  <option>Preferente</option>
                  <option>Est√°ndar</option>
                  <option>Prueba</option>
                </select>
              </div>
              <div class="form-group">
                <label>Email Principal</label>
                <input type="email" class="form-control" placeholder="contacto@laboratorio.com">
              </div>
              <div class="form-group">
                <label>Tel√©fono</label>
                <input type="tel" class="form-control" placeholder="+34 900 000 000">
              </div>
            </div>
            <div class="row">
              <div class="col-md-12">
                <label>Observaciones</label>
                <textarea class="form-control" rows="3" placeholder="Notas adicionales sobre el laboratorio..."></textarea>
              </div>
            </div>
            <div style="margin-top: 20px;">
              <button class="btn btn-success" onclick="saveLab()">
                <i class="fa fa-save"></i> Guardar Laboratorio
              </button>
              <button class="btn btn-default" onclick="hideAddLabForm()">
                <i class="fa fa-times"></i> Cancelar
              </button>
            </div>
          </div>

          <!-- Acciones en lote -->
          <div class="bulk-actions" id="bulkActions">
            <div class="row">
              <div class="col-md-8">
                <span><strong id="selectedCount">0</strong> laboratorios seleccionados</span>
              </div>
              <div class="col-md-4 text-right">
                <button class="btn btn-sm btn-info" onclick="bulkEmail()">
                  <i class="fa fa-envelope"></i> Enviar Email
                </button>
                <button class="btn btn-sm btn-warning" onclick="bulkContract()">
                  <i class="fa fa-file-text"></i> Renovar Contratos
                </button>
                <button class="btn btn-sm btn-danger" onclick="bulkDeactivate()">
                  <i class="fa fa-ban"></i> Desactivar
                </button>
              </div>
            </div>
          </div>

          <!-- Filtros -->
          <div class="row">
            <div class="col-md-12">
              <div class="box box-primary">
                <div class="box-header with-border">
                  <h3 class="box-title">Filtros y B√∫squeda</h3>
                </div>
                <div class="box-body">
                  <div class="row">
                    <div class="col-md-3">
                      <input type="text" class="form-control" placeholder="Buscar laboratorio..." id="searchLab">
                    </div>
                    <div class="col-md-2">
                      <select class="form-control" id="statusFilter">
                        <option value="">Todos los estados</option>
                        <option value="active">Activos</option>
                        <option value="inactive">Inactivos</option>
                        <option value="pending">Pendientes</option>
                      </select>
                    </div>
                    <div class="col-md-2">
                      <select class="form-control" id="categoryFilter">
                        <option value="">Todas las categor√≠as</option>
                        <option value="multinacional">Multinacional</option>
                        <option value="nacional">Nacional</option>
                        <option value="regional">Regional</option>
                        <option value="genericos">Gen√©ricos</option>
                      </select>
                    </div>
                    <div class="col-md-2">
                      <select class="form-control" id="relationshipFilter">
                        <option value="">Todas las relaciones</option>
                        <option value="strategic">Estrat√©gico</option>
                        <option value="preferred">Preferente</option>
                        <option value="standard">Est√°ndar</option>
                        <option value="trial">Prueba</option>
                      </select>
                    </div>
                    <div class="col-md-2">
                      <select class="form-control" id="contractFilter">
                        <option value="">Todos los contratos</option>
                        <option value="active">Contratos Activos</option>
                        <option value="expiring">Por Expirar</option>
                        <option value="expired">Expirados</option>
                      </select>
                    </div>
                    <div class="col-md-1">
                      <button class="btn btn-primary btn-block" onclick="applyFilters()">
                        <i class="fa fa-search"></i>
                      </button>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- Lista de laboratorios -->
          <div class="row" id="labsList">
            <!-- Laboratorio VIP -->
            <div class="col-md-6">
              <div class="lab-card lab-vip">
                <div class="lab-header">
                  <div style="display: flex; align-items: center;">
                    <input type="checkbox" class="lab-checkbox" data-lab="pfizer" style="margin-right: 15px;">
                    <div class="lab-logo">PF</div>
                    <div class="lab-info">
                      <h3>Pfizer Espa√±a</h3>
                      <div class="lab-category">Multinacional ‚Ä¢ Medicamentos de Prescripci√≥n</div>
                      <span class="relationship-level level-strategic">Estrat√©gico</span>
                      <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÖ</span>
                    </div>
                  </div>
                  <div class="lab-status status-vip">
                    <i class="fa fa-star"></i> VIP
                  </div>
                </div>

                <div class="lab-metrics">
                  <div class="metric-item">
                    <div class="metric-value">147</div>
                    <div class="metric-label">Pujas Totales</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">89</div>
                    <div class="metric-label">Pujas Ganadas</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">60.5%</div>
                    <div class="metric-label">Tasa √âxito</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">‚Ç¨847K</div>
                    <div class="metric-label">Volumen Anual</div>
                  </div>
                </div>

                <div class="lab-contact">
                  <div class="contact-item">
                    <i class="fa fa-user contact-icon"></i>
                    <span><strong>Mar√≠a Gonz√°lez</strong> - Directora Comercial</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-envelope contact-icon"></i>
                    <span>maria.gonzalez@pfizer.es</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-phone contact-icon"></i>
                    <span>+34 915 123 456</span>
                  </div>
                  <div class="contract-status">
                    <div class="contract-indicator contract-active"></div>
                    <span><strong>Contrato activo</strong> hasta 31/12/2025</span>
                  </div>
                </div>

                <div class="lab-actions">
                  <button class="action-btn btn-edit" onclick="editLab('pfizer')">
                    <i class="fa fa-edit"></i> Editar
                  </button>
                  <button class="action-btn btn-contact" onclick="contactLab('pfizer')">
                    <i class="fa fa-envelope"></i> Contactar
                  </button>
                  <button class="action-btn btn-history" onclick="viewHistory('pfizer')">
                    <i class="fa fa-history"></i> Historial
                  </button>
                  <button class="action-btn btn-negotiate" onclick="negotiate('pfizer')">
                    <i class="fa fa-handshake-o"></i> Negociar
                  </button>
                </div>
              </div>
            </div>

            <!-- Laboratorio Premium -->
            <div class="col-md-6">
              <div class="lab-card lab-premium">
                <div class="lab-header">
                  <div style="display: flex; align-items: center;">
                    <input type="checkbox" class="lab-checkbox" data-lab="bayer" style="margin-right: 15px;">
                    <div class="lab-logo" style="background: linear-gradient(135deg, #14D5AA, #20e0bb);">BY</div>
                    <div class="lab-info">
                      <h3>Bayer HealthCare</h3>
                      <div class="lab-category">Multinacional ‚Ä¢ Especialidades M√©dicas</div>
                      <span class="relationship-level level-preferred">Preferente</span>
                      <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                    </div>
                  </div>
                  <div class="lab-status status-premium">
                    <i class="fa fa-gem"></i> Premium
                  </div>
                </div>

                <div class="lab-metrics">
                  <div class="metric-item">
                    <div class="metric-value">98</div>
                    <div class="metric-label">Pujas Totales</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">52</div>
                    <div class="metric-label">Pujas Ganadas</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">53.1%</div>
                    <div class="metric-label">Tasa √âxito</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">‚Ç¨624K</div>
                    <div class="metric-label">Volumen Anual</div>
                  </div>
                </div>

                <div class="lab-contact">
                  <div class="contact-item">
                    <i class="fa fa-user contact-icon"></i>
                    <span><strong>Carlos Ruiz</strong> - Key Account Manager</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-envelope contact-icon"></i>
                    <span>carlos.ruiz@bayer.com</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-phone contact-icon"></i>
                    <span>+34 932 567 890</span>
                  </div>
                  <div class="contract-status">
                    <div class="contract-indicator contract-expiring"></div>
                    <span><strong>Contrato expira</strong> el 15/02/2025</span>
                  </div>
                </div>

                <div class="lab-actions">
                  <button class="action-btn btn-edit" onclick="editLab('bayer')">
                    <i class="fa fa-edit"></i> Editar
                  </button>
                  <button class="action-btn btn-contact" onclick="contactLab('bayer')">
                    <i class="fa fa-envelope"></i> Contactar
                  </button>
                  <button class="action-btn btn-history" onclick="viewHistory('bayer')">
                    <i class="fa fa-history"></i> Historial
                  </button>
                  <button class="action-btn btn-negotiate" onclick="negotiate('bayer')">
                    <i class="fa fa-handshake-o"></i> Renovar
                  </button>
                </div>
              </div>
            </div>

            <!-- Laboratorio Est√°ndar -->
            <div class="col-md-6">
              <div class="lab-card">
                <div class="lab-header">
                  <div style="display: flex; align-items: center;">
                    <input type="checkbox" class="lab-checkbox" data-lab="roche" style="margin-right: 15px;">
                    <div class="lab-logo" style="background: linear-gradient(135deg, #FF1E70, #ff6b9d);">RC</div>
                    <div class="lab-info">
                      <h3>Roche Farma</h3>
                      <div class="lab-category">Multinacional ‚Ä¢ Oncolog√≠a y Diagn√≥stico</div>
                      <span class="relationship-level level-standard">Est√°ndar</span>
                      <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÖ‚òÜ</span>
                    </div>
                  </div>
                  <div class="lab-status status-active">
                    <i class="fa fa-check"></i> Activo
                  </div>
                </div>

                <div class="lab-metrics">
                  <div class="metric-item">
                    <div class="metric-value">76</div>
                    <div class="metric-label">Pujas Totales</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">45</div>
                    <div class="metric-label">Pujas Ganadas</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">59.2%</div>
                    <div class="metric-label">Tasa √âxito</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">‚Ç¨456K</div>
                    <div class="metric-label">Volumen Anual</div>
                  </div>
                </div>

                <div class="lab-contact">
                  <div class="contact-item">
                    <i class="fa fa-user contact-icon"></i>
                    <span><strong>Ana Mart√≠n</strong> - Responsable de Ventas</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-envelope contact-icon"></i>
                    <span>ana.martin@roche.es</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-phone contact-icon"></i>
                    <span>+34 917 890 123</span>
                  </div>
                  <div class="contract-status">
                    <div class="contract-indicator contract-active"></div>
                    <span><strong>Contrato activo</strong> hasta 30/06/2025</span>
                  </div>
                </div>

                <div class="lab-actions">
                  <button class="action-btn btn-edit" onclick="editLab('roche')">
                    <i class="fa fa-edit"></i> Editar
                  </button>
                  <button class="action-btn btn-contact" onclick="contactLab('roche')">
                    <i class="fa fa-envelope"></i> Contactar
                  </button>
                  <button class="action-btn btn-history" onclick="viewHistory('roche')">
                    <i class="fa fa-history"></i> Historial
                  </button>
                  <button class="action-btn btn-negotiate" onclick="negotiate('roche')">
                    <i class="fa fa-handshake-o"></i> Negociar
                  </button>
                </div>
              </div>
            </div>

            <!-- Laboratorio Inactivo -->
            <div class="col-md-6">
              <div class="lab-card lab-inactive">
                <div class="lab-header">
                  <div style="display: flex; align-items: center;">
                    <input type="checkbox" class="lab-checkbox" data-lab="novartis" style="margin-right: 15px;">
                    <div class="lab-logo" style="background: #6c757d;">NV</div>
                    <div class="lab-info">
                      <h3>Novartis Farmac√©utica</h3>
                      <div class="lab-category">Multinacional ‚Ä¢ Medicina Especializada</div>
                      <span class="relationship-level level-trial">Prueba</span>
                      <span class="rating-stars">‚òÖ‚òÖ‚òÖ‚òÜ‚òÜ</span>
                    </div>
                  </div>
                  <div class="lab-status status-inactive">
                    <i class="fa fa-pause"></i> Inactivo
                  </div>
                </div>

                <div class="lab-metrics">
                  <div class="metric-item">
                    <div class="metric-value">34</div>
                    <div class="metric-label">Pujas Totales</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">12</div>
                    <div class="metric-label">Pujas Ganadas</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">35.3%</div>
                    <div class="metric-label">Tasa √âxito</div>
                  </div>
                  <div class="metric-item">
                    <div class="metric-value">‚Ç¨189K</div>
                    <div class="metric-label">Volumen Anual</div>
                  </div>
                </div>

                <div class="lab-contact">
                  <div class="contact-item">
                    <i class="fa fa-user contact-icon"></i>
                    <span><strong>Luis Fern√°ndez</strong> - Delegado Comercial</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-envelope contact-icon"></i>
                    <span>luis.fernandez@novartis.com</span>
                  </div>
                  <div class="contact-item">
                    <i class="fa fa-phone contact-icon"></i>
                    <span>+34 963 456 789</span>
                  </div>
                  <div class="contract-status">
                    <div class="contract-indicator contract-expired"></div>
                    <span><strong>Contrato expirado</strong> el 15/11/2024</span>
                  </div>
                </div>

                <div class="lab-actions">
                  <button class="action-btn btn-edit" onclick="editLab('novartis')">
                    <i class="fa fa-edit"></i> Editar
                  </button>
                  <button class="action-btn btn-contact" onclick="reactivateLab('novartis')" style="background: #28a745;">
                    <i class="fa fa-play"></i> Reactivar
                  </button>
                  <button class="action-btn btn-history" onclick="viewHistory('novartis')">
                    <i class="fa fa-history"></i> Historial
                  </button>
                  <button class="action-btn btn-negotiate" onclick="negotiate('novartis')">
                    <i class="fa fa-handshake-o"></i> Renegociar
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Paginaci√≥n -->
          <div class="row">
            <div class="col-md-12">
              <div class="text-center">
                <ul class="pagination">
                  <li class="disabled"><a href="#">&laquo;</a></li>
                  <li class="active"><a href="#">1</a></li>
                  <li><a href="#">2</a></li>
                  <li><a href="#">3</a></li>
                  <li><a href="#">&raquo;</a></li>
                </ul>
                <small class="text-muted">Mostrando 4 de 24 laboratorios</small>
              </div>
            </div>
          </div>
        </section>
      </div>

      <footer class="main-footer">
        <div class="pull-right hidden-xs">
          <b>Versi√≥n</b> 2.0
        </div>
        <strong>Derechos de Autor &copy; 2014-2025 <a href="#">Gest Farma</a>.</strong> Todos los derechos reservados.
      </footer>
    </div>

    <!-- Scripts -->
    <script src="../../plugins/jQuery/jQuery-2.1.3.min.js"></script>
    <script src="../../bootstrap/js/bootstrap.min.js" type="text/javascript"></script>
    <script src="../../dist/js/app.min.js" type="text/javascript"></script>
    
    <script>
      // Funciones principales
      function showAddLabForm() {
        document.getElementById('addLabForm').style.display = 'block';
      }

      function hideAddLabForm() {
        document.getElementById('addLabForm').style.display = 'none';
      }

      function saveLab() {
        alert('Laboratorio guardado exitosamente');
        hideAddLabForm();
      }

      // Funciones de filtrado
      function applyFilters() {
        const search = document.getElementById('searchLab').value;
        const status = document.getElementById('statusFilter').value;
        const category = document.getElementById('categoryFilter').value;
        const relationship = document.getElementById('relationshipFilter').value;
        const contract = document.getElementById('contractFilter').value;
        
        alert(`Aplicando filtros: B√∫squeda="${search}", Estado="${status}", Categor√≠a="${category}", Relaci√≥n="${relationship}", Contrato="${contract}"`);
      }

      // Funciones de acciones individuales
      function editLab(labId) {
        alert(`Editando laboratorio: ${labId}`);
      }

      function contactLab(labId) {
        alert(`Abriendo ventana de contacto para: ${labId}`);
      }

      function viewHistory(labId) {
        alert(`Mostrando historial de pujas para: ${labId}`);
        // Podr√≠a redirigir a historial-pujas.html con filtro espec√≠fico
      }

      function negotiate(labId) {
        alert(`Iniciando negociaci√≥n con: ${labId}`);
      }

      function reactivateLab(labId) {
        if (confirm(`¬øReactivar laboratorio ${labId}?`)) {
          alert(`Laboratorio ${labId} reactivado exitosamente`);
        }
      }

      // Funciones de selecci√≥n m√∫ltiple
      function updateBulkActions() {
        const checkboxes = document.querySelectorAll('.lab-checkbox:checked');
        const count = checkboxes.length;
        
        document.getElementById('selectedCount').textContent = count;
        document.getElementById('bulkActions').classList.toggle('show', count > 0);
      }

      function bulkEmail() {
        const selected = document.querySelectorAll('.lab-checkbox:checked');
        alert(`Enviando email a ${selected.length} laboratorios seleccionados`);
      }

      function bulkContract() {
        const selected = document.querySelectorAll('.lab-checkbox:checked');
        alert(`Iniciando renovaci√≥n de contratos para ${selected.length} laboratorios`);
      }

      function bulkDeactivate() {
        const selected = document.querySelectorAll('.lab-checkbox:checked');
        if (confirm(`¬øDesactivar ${selected.length} laboratorios seleccionados?`)) {
          alert(`${selected.length} laboratorios desactivados`);
        }
      }

      // Funciones de acciones r√°pidas
      function importLabs() {
        alert('Abriendo importador de laboratorios...');
      }

      function reviewContracts() {
        alert('Mostrando revisi√≥n de contratos pendientes...');
      }

      function generateReport() {
        alert('Generando informe de relaciones con laboratorios...');
      }

      function exportData() {
        alert('Exportando datos de laboratorios a Excel...');
      }

      // Event listeners
      document.addEventListener('DOMContentLoaded', function() {
        // Agregar event listeners a checkboxes
        document.querySelectorAll('.lab-checkbox').forEach(checkbox => {
          checkbox.addEventListener('change', updateBulkActions);
        });

        // Agregar event listeners a filtros
        document.querySelectorAll('#searchLab, #statusFilter, #categoryFilter, #relationshipFilter, #contractFilter').forEach(filter => {
          filter.addEventListener('change', function() {
            console.log('Filtro cambiado:', this.id, this.value);
            // Aqu√≠ se aplicar√≠a el filtrado en tiempo real
          });
        });

        // B√∫squeda en tiempo real
        document.getElementById('searchLab').addEventListener('input', function() {
          const searchTerm = this.value.toLowerCase();
          console.log('Buscando:', searchTerm);
          // Aqu√≠ se implementar√≠a la b√∫squeda en tiempo real
        });
      });
    </script>
  </body>
</html>
